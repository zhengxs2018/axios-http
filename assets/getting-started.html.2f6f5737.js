import{r as p,o,a as c,b as s,d as e,F as r,c as t,e as n}from"./app.cd156c98.js";import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";const i={},u=t(`<h1 id="\u5FEB\u901F\u4E0A\u624B" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u901F\u4E0A\u624B" aria-hidden="true">#</a> \u5FEB\u901F\u4E0A\u624B</h1><a class="npm-badge" href="http://npmjs.com/package/@zhengxs/axios-http" title="@zhengxs/axios-http" target="_blank" rel="noopener noreferrer"><img src="https://badgen.net/npm/v/@zhengxs/axios-http/latest?label=@zhengxs/axios-http" alt="@zhengxs/axios-http@latest"></a><p>\u5BF9\u4E8E\u5927\u90E8\u5206\u5E94\u7528\u6765\u8BF4\uFF0C\u83B7\u53D6\u7F51\u7EDC\u6570\u636E\u90FD\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u4E00\u4E2A\u529F\u80FD\u3002\u800C axios-http \u662F\u57FA\u4E8E Axios \u5C01\u88C5\u7684\uFF0C\u652F\u6301 Axios \u7684\u6240\u6709\u529F\u80FD\u3002</p><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><p>\u5728\u547D\u4EE4\u884C\u4E2D\u8F93\u5165\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4:</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token comment"># With NPM</span>
$ <span class="token function">npm</span> <span class="token function">install</span> @zhengxs/axios-http --save

<span class="token comment"># With Yarn</span>
$ <span class="token function">yarn</span> <span class="token function">add</span> @zhengxs/axios-http

<span class="token comment"># With PNPM</span>
$ <span class="token function">pnpm</span> <span class="token function">add</span> @zhengxs/axios-http
</code></pre></div><h2 id="\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528" aria-hidden="true">#</a> \u4F7F\u7528</h2><p>\u4F7F\u7528\u6B64\u5E93\u7684\u6700\u7B80\u5355\u65B9\u6CD5\u662F\u901A\u8FC7\u9876\u7EA7\u51FD\u6570\u3002\u53EF\u4EE5\u76F4\u63A5\u8FD4\u56DE\u53D1\u8D77 HTTP \u8BF7\u6C42\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@zhengxs/axios-http&#39;</span>

<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&#39;https://example.com/api/users/create&#39;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u5F20\u4E09&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// { &quot;_id&quot;: &quot;bpsunpkn4cf0iode3tceo&quot;, &quot;name&quot;: &quot;\u5F20\u4E09&quot; }</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="\u8BF7\u6C42\u91CD\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u8BF7\u6C42\u91CD\u8BD5" aria-hidden="true">#</a> \u8BF7\u6C42\u91CD\u8BD5</h3><p>\u542F\u7528\u81EA\u52A8\u91CD\u8BD5\u529F\u80FD\uFF0C\u53EF\u4EE5\u4E3A\u4F60\u7684\u8BF7\u6C42\u6DFB\u52A0\u9519\u8BEF\u81EA\u52A8\u91CD\u8BD5\u7684\u80FD\u529B\uFF0C\u53EA\u9700\u8981\u8C03\u7528 <code>enableAutoRetry()</code> \u51FD\u6570:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@zhengxs/axios-http&#39;</span>

<span class="token comment">// \u542F\u7528\u81EA\u52A8\u91CD\u8BD5</span>
http<span class="token punctuation">.</span><span class="token function">enableAutoRetry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// \u652F\u6301 axios-retry \u7684\u6240\u6709\u914D\u7F6E</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u53D1\u9001\u8BF7\u6C42</span>
http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://example.com/api/users&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u53D1\u9001\u8BF7\u6C42</span>
http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://example.com/api/users&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;axios-retry&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">retries</span><span class="token operator">:</span> <span class="token number">9</span> <span class="token comment">// \u5141\u8BB8\u5355\u4E2A\u8BF7\u6C42\u91CD\u7F6E</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,12),d=n("\u6709\u5173\u81EA\u52A8\u91CD\u8BD5\u7684\u529F\u80FD\uFF0C\u70B9\u51FB "),h={href:"https://github.com/softonic/axios-retry#options",target:"_blank",rel:"noopener noreferrer"},k=n("\u8FD9\u91CC"),m=n(" \u67E5\u770B\u6240\u6709\u914D\u7F6E\u3002"),b=t(`<h3 id="\u6DFB\u52A0-authorization-headers" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0-authorization-headers" aria-hidden="true">#</a> \u6DFB\u52A0 Authorization Headers</h3><p>\u4E3A\u4E86\u4ECE\u540E\u7AEF\u83B7\u53D6\u6570\u636E\uFF0C\u4F60\u9700\u8981\u63D0\u4F9B\u76F8\u5E94\u7684\u6388\u6743\u8BA4\u8BC1\u4FE1\u606F\u3002\u5F53\u7136\u4E86\uFF0C\u89E3\u51B3\u8FD9\u4E00\u95EE\u9898\u7684\u65B9\u6CD5\u6709\u5F88\u591A\uFF0C\u800C\u6700\u5E38\u89C1\u7684\u65B9\u6CD5\u6216\u8BB8\u5C31\u662F\u4F7F\u7528 Authorization HTTP header \u4E86\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@zhengxs/axios-http&#39;</span>

<span class="token comment">// \u9ED8\u8BA4\u8BBE\u7F6E\u7684\u8BA4\u8BC1\u7C7B\u578B\u4E3A Bearer</span>
http<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span><span class="token string">&#39;ubpnpks....de3e1&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="\u542F\u7528-jsonp-\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u542F\u7528-jsonp-\u529F\u80FD" aria-hidden="true">#</a> \u542F\u7528 JSONP \u529F\u80FD</h3>`,4),g={class:"custom-container warning"},_=s("p",{class:"custom-container-title"},"WARNING",-1),x=n("\u4E0D\u8981\u4F7F\u7528\u8FD9\u9879\u6280\u672F\uFF0C\u6709\u5B89\u5168\u98CE\u9669\uFF0C\u5B83\u4F1A\u4F7F\u4F60\u66B4\u9732\u5728 "),f={href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Cross-site_scripting",target:"_blank",rel:"noopener noreferrer"},v=n("\u811A\u672C\u6CE8\u5165\u653B\u51FB"),y=n(" \u4E2D. \u7136\u800C\uFF0C\u8BE5\u65B9\u6CD5\u53EF\u80FD\u662F\u5728\u6CA1\u540E\u7AEF\u652F\u6301\u4E0B\u7684\u552F\u4E00\u9009\u62E9\u3002"),z=n("\u5F53\u8C03\u7528\u7B2C\u4E09\u65B9\u670D\u52A1\u65F6\u5B58\u5728\u8DE8\u57DF\uFF0C\u4EE5\u524D\u90FD\u4F1A\u63A8\u8350\u4F7F\u7528 "),j={href:"https://zh.wikipedia.org/zh/JSONP",target:"_blank",rel:"noopener noreferrer"},w=n("jsonp"),N=n("\uFF0C\u4F46\u968F\u7740 Node.js \u7684\u666E\u53CA\uFF0C\u8FD9\u79CD\u65E7\u7684\u65B9\u5F0F\u53CD\u800C\u8D8A\u6765\u8D8A\u5C11\u3002"),q=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@zhengxs/axios-http&#39;</span>

<span class="token comment">// \u542F\u7528 JSONP</span>
http<span class="token punctuation">.</span><span class="token function">enableJsonp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u53D1\u9001\u8BF7\u6C42</span>
http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;http://example.com/test&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,1);function P(A,T){const a=p("ExternalLinkIcon");return o(),c(r,null,[u,s("p",null,[d,s("a",h,[k,e(a)]),m]),b,s("div",g,[_,s("p",null,[x,s("a",f,[v,e(a)]),y])]),s("p",null,[z,s("a",j,[w,e(a)]),N]),q],64)}var J=l(i,[["render",P]]);export{J as default};
